<template>
  <div class="audio">
    <div class="stars"></div>
    <svg style="position: absolute; width: 0; height: 0; overflow: hidden">
      <defs>
        <symbol
          id="Noises"
          width="54px"
          height="54px"
          viewBox="0 0 54 54"
          fill="none"
        >
          <circle cx="27" cy="27" r="27" fill="#F8F8F8" />
          <path
            d="M27.0001 12.3936C24.1112 12.3936 21.2872 13.2502 18.8851 14.8552C16.4831 16.4602 14.611 18.7414 13.5054 21.4104C12.3999 24.0794 12.1106 27.0163 12.6742 29.8497C13.2378 32.6831 14.629 35.2857 16.6717 37.3285C18.7145 39.3713 21.3171 40.7624 24.1505 41.326C26.9839 41.8896 29.9208 41.6003 32.5898 40.4948C35.2588 39.3893 37.54 37.5171 39.145 35.1151C40.75 32.713 41.6067 29.889 41.6067 27.0001C41.6067 23.1262 40.0678 19.411 37.3285 16.6717C34.5893 13.9325 30.874 12.3936 27.0001 12.3936ZM27.0001 13.3065C29.4979 13.3075 31.9479 13.9917 34.0848 15.285C36.2217 16.5784 37.9642 18.4315 39.1236 20.644C38.7379 20.6234 38.3499 20.6097 37.955 20.6097C33.92 20.6097 30.3482 21.6733 28.1413 23.3074C29.6151 23.7937 30.9846 24.5524 32.1786 25.544C32.2301 25.5812 32.2732 25.6287 32.3053 25.6835C32.3373 25.7383 32.3576 25.7992 32.3648 25.8623C32.372 25.9253 32.3659 25.9892 32.347 26.0498C32.3282 26.1104 32.2968 26.1664 32.2551 26.2143C32.2133 26.2621 32.162 26.3007 32.1045 26.3275C32.047 26.3544 31.9845 26.369 31.921 26.3704C31.8576 26.3717 31.7945 26.3598 31.7359 26.3354C31.6773 26.311 31.6244 26.2747 31.5806 26.2287C30.3231 25.1332 28.5566 24.2865 26.5049 23.7547H26.4843C26.2713 23.6999 26.0553 23.6482 25.8362 23.5995L25.7814 23.5767C25.5714 23.5311 25.3592 23.4892 25.1446 23.4512L25.0716 23.4375C24.4097 23.3188 23.7251 23.2344 23.0175 23.1796C22.8258 23.1659 22.6341 23.1545 22.4401 23.1431L22.1617 23.1294C21.8787 23.1202 21.5888 23.1202 21.2944 23.1202C18.3275 23.1202 15.6161 23.6954 13.5119 24.6494C14.0691 21.4752 15.7263 18.5987 18.1928 16.5245C20.6593 14.4503 23.7774 13.311 27.0001 13.3065ZM20.3062 38.9387C23.0951 36.1292 19.0395 32.3041 19.0395 32.3041C23.2754 34.1299 23.2754 37.4484 23.2754 37.4484C24.7886 35.0269 21.7623 28.3695 21.7623 28.3695C24.7886 32.0006 25.0921 37.7496 25.0921 37.7496C27.2101 35.3281 25.0921 30.7887 25.0921 30.7887C29.0154 33.2033 27.3356 38.7173 27.3265 38.747C28.5749 36.9873 29.7023 33.8812 28.7255 28.6707C28.7255 28.6707 30.8435 31.0922 29.3303 38.0509C29.3303 38.0509 33.8698 34.1162 33.265 29.5768C33.265 29.5768 33.993 33.4681 32.8359 36.6724C33.5343 35.351 35.0246 33.3038 37.5009 33.5092C37.5009 33.5092 33.3563 35.2871 33.8492 38.8428C31.7948 40.0359 29.4644 40.6719 27.0887 40.6879C24.713 40.7039 22.3743 40.0994 20.3039 38.9341L20.3062 38.9387Z"
            fill="#14131C"
          />
          <path
            d="M22.1548 20.1009C22.2806 20.3282 22.4544 20.5253 22.6641 20.6786C22.8738 20.8319 23.1143 20.9378 23.369 20.9887L23.2457 22.2919C23.7844 22.3376 24.3169 22.4022 24.8433 22.4859L24.7041 21.0663C24.9008 21.1136 25.1056 21.116 25.3033 21.0734C25.501 21.0308 25.6866 20.9443 25.8464 20.8202C26.0062 20.6962 26.136 20.5378 26.2263 20.3568C26.3165 20.1758 26.3649 19.9768 26.3679 19.7746C26.6449 19.6315 26.8802 19.4191 27.0507 19.158C27.2213 18.897 27.3213 18.5962 27.3411 18.2851C27.3608 17.9739 27.2997 17.6629 27.1635 17.3824C27.0274 17.1018 26.8209 16.8614 26.5642 16.6844C26.4963 16.2756 26.3134 15.8946 26.037 15.586C25.7605 15.2773 25.4019 15.0538 25.003 14.9415C24.6042 14.8292 24.1816 14.8328 23.7847 14.9519C23.3878 15.071 23.033 15.3007 22.7619 15.614C22.5779 15.6238 22.3978 15.671 22.2327 15.7527C22.0676 15.8344 21.9208 15.9489 21.8014 16.0892C21.682 16.2296 21.5925 16.3928 21.5383 16.5689C21.4841 16.745 21.4663 16.9303 21.4861 17.1134C21.2694 17.3288 21.1108 17.5955 21.0253 17.8888C20.9398 18.1821 20.9301 18.4923 20.9971 18.7904C21.0642 19.0884 21.2058 19.3646 21.4086 19.593C21.6115 19.8214 21.869 19.9946 22.1571 20.0964L22.1548 20.1009Z"
            fill="#14131C"
          />
          <path
            d="M32.8335 36.6768C32.6475 37.0228 32.4874 37.3821 32.3542 37.7517C32.5411 37.4061 32.7013 37.0467 32.8335 36.6768V36.6768Z"
            fill="#14131C"
          />
        </symbol>
        <symbol
          id="NoisesReverse"
          width="54px"
          height="54px"
          viewBox="0 0 54 54"
          fill="none"
        >
          <circle cx="27" cy="27" r="27" fill="#ae8908" />
          <path
            d="M27.0001 12.3936C24.1112 12.3936 21.2872 13.2502 18.8851 14.8552C16.4831 16.4602 14.611 18.7414 13.5054 21.4104C12.3999 24.0794 12.1106 27.0163 12.6742 29.8497C13.2378 32.6831 14.629 35.2857 16.6717 37.3285C18.7145 39.3713 21.3171 40.7624 24.1505 41.326C26.9839 41.8896 29.9208 41.6003 32.5898 40.4948C35.2588 39.3893 37.54 37.5171 39.145 35.1151C40.75 32.713 41.6067 29.889 41.6067 27.0001C41.6067 23.1262 40.0678 19.411 37.3285 16.6717C34.5893 13.9325 30.874 12.3936 27.0001 12.3936ZM27.0001 13.3065C29.4979 13.3075 31.9479 13.9917 34.0848 15.285C36.2217 16.5784 37.9642 18.4315 39.1236 20.644C38.7379 20.6234 38.3499 20.6097 37.955 20.6097C33.92 20.6097 30.3482 21.6733 28.1413 23.3074C29.6151 23.7937 30.9846 24.5524 32.1786 25.544C32.2301 25.5812 32.2732 25.6287 32.3053 25.6835C32.3373 25.7383 32.3576 25.7992 32.3648 25.8623C32.372 25.9253 32.3659 25.9892 32.347 26.0498C32.3282 26.1104 32.2968 26.1664 32.2551 26.2143C32.2133 26.2621 32.162 26.3007 32.1045 26.3275C32.047 26.3544 31.9845 26.369 31.921 26.3704C31.8576 26.3717 31.7945 26.3598 31.7359 26.3354C31.6773 26.311 31.6244 26.2747 31.5806 26.2287C30.3231 25.1332 28.5566 24.2865 26.5049 23.7547H26.4843C26.2713 23.6999 26.0553 23.6482 25.8362 23.5995L25.7814 23.5767C25.5714 23.5311 25.3592 23.4892 25.1446 23.4512L25.0716 23.4375C24.4097 23.3188 23.7251 23.2344 23.0175 23.1796C22.8258 23.1659 22.6341 23.1545 22.4401 23.1431L22.1617 23.1294C21.8787 23.1202 21.5888 23.1202 21.2944 23.1202C18.3275 23.1202 15.6161 23.6954 13.5119 24.6494C14.0691 21.4752 15.7263 18.5987 18.1928 16.5245C20.6593 14.4503 23.7774 13.311 27.0001 13.3065ZM20.3062 38.9387C23.0951 36.1292 19.0395 32.3041 19.0395 32.3041C23.2754 34.1299 23.2754 37.4484 23.2754 37.4484C24.7886 35.0269 21.7623 28.3695 21.7623 28.3695C24.7886 32.0006 25.0921 37.7496 25.0921 37.7496C27.2101 35.3281 25.0921 30.7887 25.0921 30.7887C29.0154 33.2033 27.3356 38.7173 27.3265 38.747C28.5749 36.9873 29.7023 33.8812 28.7255 28.6707C28.7255 28.6707 30.8435 31.0922 29.3303 38.0509C29.3303 38.0509 33.8698 34.1162 33.265 29.5768C33.265 29.5768 33.993 33.4681 32.8359 36.6724C33.5343 35.351 35.0246 33.3038 37.5009 33.5092C37.5009 33.5092 33.3563 35.2871 33.8492 38.8428C31.7948 40.0359 29.4644 40.6719 27.0887 40.6879C24.713 40.7039 22.3743 40.0994 20.3039 38.9341L20.3062 38.9387Z"
            fill="#F8F8F8"
          />
          <path
            d="M22.1548 20.1009C22.2806 20.3282 22.4544 20.5253 22.6641 20.6786C22.8738 20.8319 23.1143 20.9378 23.369 20.9887L23.2457 22.2919C23.7844 22.3376 24.3169 22.4022 24.8433 22.4859L24.7041 21.0663C24.9008 21.1136 25.1056 21.116 25.3033 21.0734C25.501 21.0308 25.6866 20.9443 25.8464 20.8202C26.0062 20.6962 26.136 20.5378 26.2263 20.3568C26.3165 20.1758 26.3649 19.9768 26.3679 19.7746C26.6449 19.6315 26.8802 19.4191 27.0507 19.158C27.2213 18.897 27.3213 18.5962 27.3411 18.2851C27.3608 17.9739 27.2997 17.6629 27.1635 17.3824C27.0274 17.1018 26.8209 16.8614 26.5642 16.6844C26.4963 16.2756 26.3134 15.8946 26.037 15.586C25.7605 15.2773 25.4019 15.0538 25.003 14.9415C24.6042 14.8292 24.1816 14.8328 23.7847 14.9519C23.3878 15.071 23.033 15.3007 22.7619 15.614C22.5779 15.6238 22.3978 15.671 22.2327 15.7527C22.0676 15.8344 21.9208 15.9489 21.8014 16.0892C21.682 16.2296 21.5925 16.3928 21.5383 16.5689C21.4841 16.745 21.4663 16.9303 21.4861 17.1134C21.2694 17.3288 21.1108 17.5955 21.0253 17.8888C20.9398 18.1821 20.9301 18.4923 20.9971 18.7904C21.0642 19.0884 21.2058 19.3646 21.4086 19.593C21.6115 19.8214 21.869 19.9946 22.1571 20.0964L22.1548 20.1009Z"
            fill="#F8F8F8"
          />
          <path
            d="M32.8335 36.6768C32.6475 37.0228 32.4874 37.3821 32.3542 37.7517C32.5411 37.4061 32.7013 37.0467 32.8335 36.6768V36.6768Z"
            fill="#F8F8F8"
          />
        </symbol>
        <symbol
          id="Greetings"
          width="54px"
          height="54px"
          viewBox="0 0 54 54"
          fill="none"
        >
          <circle cx="27" cy="27" r="27" fill="#F8F8F8" />
          <path
            d="M17.2736 33.5077C17.8647 34.0099 18.5218 34.4194 19.2244 34.7235C18.7856 35.9211 18.5997 38.4416 18.9294 39.3783C19.0453 39.4194 19.1665 39.4414 19.2888 39.4435V39.4435C19.3939 39.4614 19.501 39.4614 19.6061 39.4435C20.0622 38.6425 20.3199 36.3908 20.1712 35.0706C20.725 35.2414 21.29 35.3687 21.8617 35.4515C22.3325 35.5229 22.8066 35.5673 23.282 35.5846C23.5298 35.5846 23.7777 35.5846 24.0256 35.5846L24.4023 35.5663L24.5932 35.5506L24.8411 35.5167C25.337 35.4153 25.7911 35.1551 26.1412 34.7716C26.4912 34.3882 26.7202 33.9003 26.7968 33.3746C26.824 33.1961 26.8323 33.015 26.8215 32.8345C26.8175 32.747 26.8084 32.6599 26.7943 32.5736L26.7695 32.4405C26.7694 32.3609 26.776 32.2815 26.7893 32.2031C26.8056 32.095 26.8271 31.9879 26.8538 31.8822C26.8813 31.7726 26.9144 31.6646 26.9529 31.5586L27.0174 31.3708L27.0322 31.3238L27.0645 31.2116C27.0831 31.1338 27.0948 31.0543 27.0992 30.9742C27.1068 30.8132 27.0843 30.6523 27.0328 30.5005C26.9814 30.3488 26.902 30.2091 26.7992 30.0897C26.6932 29.9666 26.5641 29.8679 26.42 29.8001C26.3846 29.7829 26.3481 29.7681 26.3109 29.7557L26.2366 29.7322L26.1573 29.7061C25.9506 29.6397 25.7505 29.5523 25.5599 29.4452C25.2141 29.2728 24.925 28.9957 24.7295 28.6494C24.6859 28.566 24.6494 28.4787 24.6205 28.3885V28.3468H24.6353C24.7717 28.365 24.9105 28.3729 25.0468 28.3833C25.3195 28.399 25.5921 28.4042 25.8623 28.3964C26.1325 28.3885 26.4002 28.3677 26.6679 28.3363C26.942 28.3045 27.2143 28.2566 27.4833 28.1928C27.6213 28.1576 27.7444 28.0757 27.8339 27.9598C27.9234 27.8439 27.9744 27.7003 27.9791 27.551L28.0361 25.7037C28.4166 25.5893 28.7778 25.4132 29.1069 25.1819C29.2281 25.095 29.3432 24.9991 29.4514 24.8949C29.5164 24.8337 29.5769 24.7674 29.6324 24.6966C29.6914 24.6218 29.7437 24.5415 29.7885 24.4565C29.9206 24.2104 29.9919 23.9333 29.9958 23.6507C29.9997 23.3681 29.9361 23.0889 29.8108 22.8389C29.7249 22.6776 29.6124 22.5336 29.4787 22.4136C29.3762 22.3179 29.2668 22.2307 29.1515 22.1527C29.0499 22.0874 28.9854 22.0326 28.9036 21.9752C28.6026 21.7602 28.3308 21.503 28.0956 21.2108C27.6733 20.6858 27.3827 20.0579 27.2504 19.3844C27.1904 19.0902 27.1597 18.7903 27.1586 18.4894C27.1586 18.1711 27.1413 17.8685 27.1115 17.5893C27.0992 17.4614 26.9306 17.3779 26.7447 17.4014C26.5588 17.4249 26.4522 17.5136 26.4497 17.618C26.4497 17.8789 26.4225 18.1555 26.3927 18.4555C26.3544 18.8127 26.3544 19.1733 26.3927 19.5305C26.4877 20.382 26.7947 21.1921 27.2826 21.8787C27.5541 22.2677 27.8762 22.6146 28.2393 22.9093C28.3286 22.9824 28.4327 23.0685 28.512 23.1259C28.5786 23.1746 28.6416 23.2287 28.7004 23.2876C28.7328 23.3183 28.759 23.3556 28.7772 23.3972C28.7957 23.4438 28.8074 23.4931 28.8119 23.5433C28.8218 23.6459 28.7982 23.749 28.745 23.8356C28.733 23.8563 28.7188 23.8755 28.7029 23.893C28.6829 23.9155 28.6614 23.9365 28.6384 23.9556C28.5703 24.0156 28.4982 24.0705 28.4228 24.12C28.0789 24.33 27.699 24.4666 27.3049 24.5218C27.1661 24.5458 27.0392 24.6188 26.945 24.7288C26.8509 24.8388 26.7951 24.9793 26.7868 25.1271V25.1454L26.6926 26.9196L26.5043 26.9483C26.2762 26.9718 26.0432 26.9848 25.8127 26.99C25.5822 26.9952 25.3467 26.99 25.1162 26.9692C24.9997 26.9692 24.8832 26.9509 24.7692 26.9326L24.5709 26.9091C24.3957 26.8905 24.2188 26.9114 24.0519 26.9705C23.885 27.0295 23.7319 27.1252 23.6029 27.2514C23.4739 27.3775 23.372 27.5312 23.3038 27.7021C23.2356 27.8729 23.2028 28.0571 23.2076 28.2424C23.2085 28.3151 23.2151 28.3875 23.2274 28.459C23.2274 28.5216 23.2473 28.5503 23.2572 28.5973C23.2671 28.6442 23.3018 28.7669 23.3266 28.8582C23.3811 29.0232 23.4491 29.183 23.5298 29.3356C23.8547 29.9309 24.3416 30.4099 24.9278 30.7107C25.1739 30.8461 25.4311 30.9579 25.6962 31.0446L25.6813 31.089C25.5798 31.383 25.5075 31.6873 25.4657 31.997C25.4385 32.1816 25.431 32.3689 25.4434 32.5553V32.5997C25.4285 32.524 25.4632 32.7171 25.4607 32.6962V32.7275L25.4731 32.7902C25.4811 32.8315 25.4861 32.8733 25.488 32.9154C25.4982 33.002 25.4982 33.0897 25.488 33.1763C25.4587 33.4263 25.3568 33.6608 25.1962 33.8475C25.0356 34.0343 24.8242 34.1644 24.5907 34.22L24.4742 34.2408L24.3081 34.2591L23.971 34.2852C23.748 34.3009 23.5224 34.3061 23.3018 34.3087C22.8665 34.311 22.4313 34.29 21.998 34.2461C21.1981 34.1742 20.4088 34.0053 19.6457 33.7425C18.2354 33.2389 17.1373 32.4092 16.5969 31.6134C16.5375 31.5247 16.3491 31.5299 16.1855 31.6291C16.0219 31.7282 15.9599 31.8743 16.0145 31.9839C16.3335 32.5751 16.7616 33.0932 17.2736 33.5077ZM25.8871 31.0968H25.9019H25.8871Z"
            fill="#14131C"
          />
          <path
            d="M30.8346 28.4746C30.7183 28.5115 30.6074 28.565 30.5049 28.6338C30.4093 28.683 30.3188 28.7425 30.2347 28.8112C30.205 29.0147 30.2124 29.2574 30.1976 29.5157C30.179 30.06 30.0497 30.5939 29.8183 31.0811C29.7142 31.316 29.5952 31.5273 29.5283 31.723C29.5766 31.8384 29.6355 31.9485 29.7043 32.0517C29.7531 32.1476 29.8149 32.2355 29.8877 32.3127C30.2092 32.2672 30.5078 32.1124 30.7379 31.8717C31.0619 31.5496 31.2933 31.138 31.4055 30.6839C31.5177 30.2299 31.5062 29.7518 31.3725 29.3043C31.2846 28.9731 31.0956 28.6815 30.8346 28.4746V28.4746Z"
            fill="#14131C"
          />
          <path
            d="M32.5473 32.9806C32.2647 33.5024 31.9623 33.9303 31.7715 34.2538C31.8116 34.3725 31.8749 34.4809 31.9574 34.5721C32.064 34.7078 32.1606 34.8044 32.1829 34.7939C32.6971 34.541 33.1498 34.168 33.5066 33.7033C34.0062 33.0727 34.3667 32.3332 34.5622 31.5383C34.7576 30.7433 34.7831 29.9126 34.6368 29.106C34.5393 28.5163 34.3155 27.9578 33.9825 27.4727C33.8589 27.4753 33.738 27.5102 33.6305 27.5744C33.5276 27.6082 33.4328 27.6652 33.3529 27.7414C33.3702 28.1197 33.4446 28.6442 33.4496 29.2469C33.4595 29.8981 33.3895 30.5479 33.2413 31.1803C33.0845 31.8093 32.8512 32.4143 32.5473 32.9806V32.9806Z"
            fill="#14131C"
          />
          <path
            d="M36.4786 26.7029C36.6021 27.4654 36.6848 28.2345 36.7265 29.0068C36.7578 30.0275 36.6544 31.0478 36.4192 32.0386C36.1695 33.0265 35.7908 33.973 35.2938 34.8513C34.9062 35.5085 34.4841 36.1427 34.0297 36.7507C34.0074 36.782 34.0917 36.9334 34.2156 37.0821C34.3395 37.2308 34.4313 37.3013 34.4635 37.2804C35.1656 36.8333 35.7798 36.2488 36.2729 35.5583C36.9582 34.619 37.4561 33.5436 37.7368 32.3967C38.0175 31.2498 38.0751 30.0551 37.9064 28.8841C37.7932 28.0281 37.5257 27.2027 37.1182 26.4524C37.0983 26.4159 36.9347 26.4524 36.7563 26.5203C36.5778 26.5881 36.4737 26.6664 36.4786 26.7029Z"
            fill="#14131C"
          />
        </symbol>
        <symbol
          id="GreetingsReverse"
          width="54px"
          height="54px"
          viewBox="0 0 54 54"
          fill="none"
        >
          <circle cx="27" cy="27" r="27" fill="#000000" />
          <path
            d="M17.2736 33.5077C17.8647 34.0099 18.5218 34.4194 19.2244 34.7235C18.7856 35.9211 18.5997 38.4416 18.9294 39.3783C19.0453 39.4194 19.1665 39.4414 19.2888 39.4435V39.4435C19.3939 39.4614 19.501 39.4614 19.6061 39.4435C20.0622 38.6425 20.3199 36.3908 20.1712 35.0706C20.725 35.2414 21.29 35.3687 21.8617 35.4515C22.3325 35.5229 22.8066 35.5673 23.282 35.5846C23.5298 35.5846 23.7777 35.5846 24.0256 35.5846L24.4023 35.5663L24.5932 35.5506L24.8411 35.5167C25.337 35.4153 25.7911 35.1551 26.1412 34.7716C26.4912 34.3882 26.7202 33.9003 26.7968 33.3746C26.824 33.1961 26.8323 33.015 26.8215 32.8345C26.8175 32.747 26.8084 32.6599 26.7943 32.5736L26.7695 32.4405C26.7694 32.3609 26.776 32.2815 26.7893 32.2031C26.8056 32.095 26.8271 31.9879 26.8538 31.8822C26.8813 31.7726 26.9144 31.6646 26.9529 31.5586L27.0174 31.3708L27.0322 31.3238L27.0645 31.2116C27.0831 31.1338 27.0948 31.0543 27.0992 30.9742C27.1068 30.8132 27.0843 30.6523 27.0328 30.5005C26.9814 30.3488 26.902 30.2091 26.7992 30.0897C26.6932 29.9666 26.5641 29.8679 26.42 29.8001C26.3846 29.7829 26.3481 29.7681 26.3109 29.7557L26.2366 29.7322L26.1573 29.7061C25.9506 29.6397 25.7505 29.5523 25.5599 29.4452C25.2141 29.2728 24.925 28.9957 24.7295 28.6494C24.6859 28.566 24.6494 28.4787 24.6205 28.3885V28.3468H24.6353C24.7717 28.365 24.9105 28.3729 25.0468 28.3833C25.3195 28.399 25.5921 28.4042 25.8623 28.3964C26.1325 28.3885 26.4002 28.3677 26.6679 28.3363C26.942 28.3045 27.2143 28.2566 27.4833 28.1928C27.6213 28.1576 27.7444 28.0757 27.8339 27.9598C27.9234 27.8439 27.9744 27.7003 27.9791 27.551L28.0361 25.7037C28.4166 25.5893 28.7778 25.4132 29.1069 25.1819C29.2281 25.095 29.3432 24.9991 29.4514 24.8949C29.5164 24.8337 29.5769 24.7674 29.6324 24.6966C29.6914 24.6218 29.7437 24.5415 29.7885 24.4565C29.9206 24.2104 29.9919 23.9333 29.9958 23.6507C29.9997 23.3681 29.9361 23.0889 29.8108 22.8389C29.7249 22.6776 29.6124 22.5336 29.4787 22.4136C29.3762 22.3179 29.2668 22.2307 29.1515 22.1527C29.0499 22.0874 28.9854 22.0326 28.9036 21.9752C28.6026 21.7602 28.3308 21.503 28.0956 21.2108C27.6733 20.6858 27.3827 20.0579 27.2504 19.3844C27.1904 19.0902 27.1597 18.7903 27.1586 18.4894C27.1586 18.1711 27.1413 17.8685 27.1115 17.5893C27.0992 17.4614 26.9306 17.3779 26.7447 17.4014C26.5588 17.4249 26.4522 17.5136 26.4497 17.618C26.4497 17.8789 26.4225 18.1555 26.3927 18.4555C26.3544 18.8127 26.3544 19.1733 26.3927 19.5305C26.4877 20.382 26.7947 21.1921 27.2826 21.8787C27.5541 22.2677 27.8762 22.6146 28.2393 22.9093C28.3286 22.9824 28.4327 23.0685 28.512 23.1259C28.5786 23.1746 28.6416 23.2287 28.7004 23.2876C28.7328 23.3183 28.759 23.3556 28.7772 23.3972C28.7957 23.4438 28.8074 23.4931 28.8119 23.5433C28.8218 23.6459 28.7982 23.749 28.745 23.8356C28.733 23.8563 28.7188 23.8755 28.7029 23.893C28.6829 23.9155 28.6614 23.9365 28.6384 23.9556C28.5703 24.0156 28.4982 24.0705 28.4228 24.12C28.0789 24.33 27.699 24.4666 27.3049 24.5218C27.1661 24.5458 27.0392 24.6188 26.945 24.7288C26.8509 24.8388 26.7951 24.9793 26.7868 25.1271V25.1454L26.6926 26.9196L26.5043 26.9483C26.2762 26.9718 26.0432 26.9848 25.8127 26.99C25.5822 26.9952 25.3467 26.99 25.1162 26.9692C24.9997 26.9692 24.8832 26.9509 24.7692 26.9326L24.5709 26.9091C24.3957 26.8905 24.2188 26.9114 24.0519 26.9705C23.885 27.0295 23.7319 27.1252 23.6029 27.2514C23.4739 27.3775 23.372 27.5312 23.3038 27.7021C23.2356 27.8729 23.2028 28.0571 23.2076 28.2424C23.2085 28.3151 23.2151 28.3875 23.2274 28.459C23.2274 28.5216 23.2473 28.5503 23.2572 28.5973C23.2671 28.6442 23.3018 28.7669 23.3266 28.8582C23.3811 29.0232 23.4491 29.183 23.5298 29.3356C23.8547 29.9309 24.3416 30.4099 24.9278 30.7107C25.1739 30.8461 25.4311 30.9579 25.6962 31.0446L25.6813 31.089C25.5798 31.383 25.5075 31.6873 25.4657 31.997C25.4385 32.1816 25.431 32.3689 25.4434 32.5553V32.5997C25.4285 32.524 25.4632 32.7171 25.4607 32.6962V32.7275L25.4731 32.7902C25.4811 32.8315 25.4861 32.8733 25.488 32.9154C25.4982 33.002 25.4982 33.0897 25.488 33.1763C25.4587 33.4263 25.3568 33.6608 25.1962 33.8475C25.0356 34.0343 24.8242 34.1644 24.5907 34.22L24.4742 34.2408L24.3081 34.2591L23.971 34.2852C23.748 34.3009 23.5224 34.3061 23.3018 34.3087C22.8665 34.311 22.4313 34.29 21.998 34.2461C21.1981 34.1742 20.4088 34.0053 19.6457 33.7425C18.2354 33.2389 17.1373 32.4092 16.5969 31.6134C16.5375 31.5247 16.3491 31.5299 16.1855 31.6291C16.0219 31.7282 15.9599 31.8743 16.0145 31.9839C16.3335 32.5751 16.7616 33.0932 17.2736 33.5077ZM25.8871 31.0968H25.9019H25.8871Z"
            fill="#F8F8F8"
          />
          <path
            d="M30.8346 28.4746C30.7183 28.5115 30.6074 28.565 30.5049 28.6338C30.4093 28.683 30.3188 28.7425 30.2347 28.8112C30.205 29.0147 30.2124 29.2574 30.1976 29.5157C30.179 30.06 30.0497 30.5939 29.8183 31.0811C29.7142 31.316 29.5952 31.5273 29.5283 31.723C29.5766 31.8384 29.6355 31.9485 29.7043 32.0517C29.7531 32.1476 29.8149 32.2355 29.8877 32.3127C30.2092 32.2672 30.5078 32.1124 30.7379 31.8717C31.0619 31.5496 31.2933 31.138 31.4055 30.6839C31.5177 30.2299 31.5062 29.7518 31.3725 29.3043C31.2846 28.9731 31.0956 28.6815 30.8346 28.4746V28.4746Z"
            fill="#F8F8F8"
          />
          <path
            d="M32.5473 32.9806C32.2647 33.5024 31.9623 33.9303 31.7715 34.2538C31.8116 34.3725 31.8749 34.4809 31.9574 34.5721C32.064 34.7078 32.1606 34.8044 32.1829 34.7939C32.6971 34.541 33.1498 34.168 33.5066 33.7033C34.0062 33.0727 34.3667 32.3332 34.5622 31.5383C34.7576 30.7433 34.7831 29.9126 34.6368 29.106C34.5393 28.5163 34.3155 27.9578 33.9825 27.4727C33.8589 27.4753 33.738 27.5102 33.6305 27.5744C33.5276 27.6082 33.4328 27.6652 33.3529 27.7414C33.3702 28.1197 33.4446 28.6442 33.4496 29.2469C33.4595 29.8981 33.3895 30.5479 33.2413 31.1803C33.0845 31.8093 32.8512 32.4143 32.5473 32.9806V32.9806Z"
            fill="#F8F8F8"
          />
          <path
            d="M36.4786 26.7029C36.6021 27.4654 36.6848 28.2345 36.7265 29.0068C36.7578 30.0275 36.6544 31.0478 36.4192 32.0386C36.1695 33.0265 35.7908 33.973 35.2938 34.8513C34.9062 35.5085 34.4841 36.1427 34.0297 36.7507C34.0074 36.782 34.0917 36.9334 34.2156 37.0821C34.3395 37.2308 34.4313 37.3013 34.4635 37.2804C35.1656 36.8333 35.7798 36.2488 36.2729 35.5583C36.9582 34.619 37.4561 33.5436 37.7368 32.3967C38.0175 31.2498 38.0751 30.0551 37.9064 28.8841C37.7932 28.0281 37.5257 27.2027 37.1182 26.4524C37.0983 26.4159 36.9347 26.4524 36.7563 26.5203C36.5778 26.5881 36.4737 26.6664 36.4786 26.7029Z"
            fill="#F8F8F8"
          />
        </symbol>
        <symbol
          id="Musics"
          width="54px"
          height="54px"
          viewBox="0 0 54 54"
          fill="none"
        >
          <circle cx="27" cy="27" r="27" fill="#F8F8F8" />
          <path
            d="M37.3283 14.8332C37.14 14.6667 36.8905 14.5868 36.6404 14.6127L20.706 16.3832C20.2575 16.4328 19.9181 16.8119 19.9182 17.2631V33.0391C19.1159 32.559 18.1974 32.3076 17.2624 32.3123C14.8218 32.3124 12.8362 33.9005 12.8362 35.8533C12.8362 37.8062 14.8218 39.3943 17.2624 39.3943C19.703 39.3943 21.6886 37.807 21.6886 35.8533V22.4861L35.8525 20.9086V31.266C35.05 30.7868 34.1316 30.5364 33.1968 30.5418C30.7562 30.5418 28.7706 32.13 28.7706 34.0828C28.7706 36.0357 30.7562 37.6238 33.1968 37.6238C35.6374 37.6238 37.623 36.0366 37.623 34.0828V15.4927C37.623 15.2409 37.5159 15.0011 37.3283 14.8332Z"
            fill="#14131C"
          />
        </symbol>
        <symbol
          id="MusicsReverse"
          width="54px"
          height="54px"
          viewBox="0 0 54 54"
          fill="none"
        >
          <circle cx="27" cy="27" r="27" fill="#000000" />
          <path
            d="M37.3283 14.8332C37.14 14.6667 36.8905 14.5868 36.6404 14.6127L20.706 16.3832C20.2575 16.4328 19.9181 16.8119 19.9182 17.2631V33.0391C19.1159 32.559 18.1974 32.3076 17.2624 32.3123C14.8218 32.3124 12.8362 33.9005 12.8362 35.8533C12.8362 37.8062 14.8218 39.3943 17.2624 39.3943C19.703 39.3943 21.6886 37.807 21.6886 35.8533V22.4861L35.8525 20.9086V31.266C35.05 30.7868 34.1316 30.5364 33.1968 30.5418C30.7562 30.5418 28.7706 32.13 28.7706 34.0828C28.7706 36.0357 30.7562 37.6238 33.1968 37.6238C35.6374 37.6238 37.623 36.0366 37.623 34.0828V15.4927C37.623 15.2409 37.5159 15.0011 37.3283 14.8332Z"
            fill="#F8F8F8"
          />
        </symbol>
        <symbol
          id="play"
          width="48px"
          height="48px"
          viewBox="0 0 48 48"
          fill="none"
        >
          <circle cx="24" cy="24" r="24" fill="#F8F8F8" />
          <path
            d="M32.8083 22.7788C33.4049 23.1743 33.4049 24.0503 32.8083 24.4458L19.9408 32.9755C19.276 33.4161 18.3883 32.9395 18.3883 32.142L18.3883 15.0826C18.3883 14.2851 19.276 13.8085 19.9408 14.2491L32.8083 22.7788Z"
            fill="#14131C"
          />
        </symbol>
        <symbol
          id="pause"
          width="48px"
          height="48px"
          viewBox="0 0 48 48"
          fill="none"
        >
          <circle cx="24" cy="24" r="24" fill="#F8F8F8" />
          <path
            d="M21.436 31.575C21.436 33.1903 20.1263 34.5 18.5109 34.5C16.8956 34.5 15.5859 33.1903 15.5859 31.575V16.425C15.5859 14.8097 16.8956 13.5 18.5109 13.5C20.1263 13.5 21.436 14.8097 21.436 16.425V31.575Z"
            fill="#14131C"
          />
          <path
            d="M32.4135 31.575C32.4135 33.1903 31.1038 34.5 29.4885 34.5C27.8731 34.5 26.5635 33.1903 26.5635 31.575V16.425C26.5639 14.8097 27.8736 13.5 29.4885 13.5C31.1038 13.5 32.4135 14.8097 32.4135 16.425V31.575Z"
            fill="#14131C"
          />
        </symbol>
        <symbol id="next" viewBox="0 0 32 32" fill="none">
          <circle cx="16" cy="16" r="16" fill="#ae8908" />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M10.1003 19.9283L14.5 16.626V19.1285C14.5 19.9527 15.4411 20.423 16.1003 19.9283L20.9344 16.3C20.9572 16.2829 20.9791 16.265 21 16.2464V20.0002H23V11.0002H21V14.754C20.9791 14.7354 20.9572 14.7176 20.9344 14.7004L16.1003 11.0721C15.4411 10.5774 14.5 11.0477 14.5 11.8719V14.3744L10.1003 11.0721C9.44109 10.5774 8.5 11.0477 8.5 11.8719V19.1285C8.5 19.9527 9.44109 20.423 10.1003 19.9283Z"
            fill="#14131C"
          />
        </symbol>
      </defs>
    </svg>

    <Header class="audio__title" :text="titleChapter" />
    <p class="audio__infos">
      Carl Sagan and this Team has selected 24 musics, 20 earth noises and
      greetings from 54 countries.
    </p>
    <div class="audio__playlistContainer">
      <Playlist
        v-for="(playlist, index) in playlists"
        :key="playlist.playlistId"
        :playlistName="playlist.playlistName"
        :class="indexOfSelectedPlaylist == index ? 'playlist--isFocus' : ''"
        @select-playlist="updatePlaylist(index)"
      />
    </div>
    <p v-if="!isActive" class="audio__instruction audio__instruction--animate">
      Tap on a playlist button to play a random sound of this playlist
    </p>
    <p v-else class="audio__instruction">{{ randomSongName }}</p>
    <div class="audio__playerContainer">
      <AudioPlayer
        :class="isActive ? 'player--isFocus' : ''"
        :source="songSrcSelected"
        :name="songNameSelected"
        @next-music="selectRandomSong"
      />
    </div>
    <div class="audio__nextChapter">
      <Cta nextChapter="Who did it ?" @goNextChapter="goNextChapter" />
    </div>
  </div>
</template>

<script>
import Header from "@/components/Header.vue";
import Cta from "@/components/MobileCta.vue";
import Playlist from "@/components/Playlist__Mobile.vue";
import AudioPlayer from "@/components/AudioPlayer__Mobile.vue";
import { titles } from "@/constants.js";
import { page4 } from "@/content.js";

export default {
  components: {
    Header,
    Cta,
    Playlist,
    AudioPlayer,
  },
  data() {
    return {
      titleChapter: titles.page4,
      isActive: false,
      indexOfSelectedPlaylist: null,
      randomSongName: "",
      randomSongSrc: "",
      playlists: [
        {
          playlistId: 1,
          playlistName: "Musics",
          playlistContent: [],
        },
        {
          playlistId: 2,
          playlistName: "Greetings",
          playlistContent: [],
        },
        {
          playlistId: 3,
          playlistName: "Noises",
          playlistContent: [],
        },
      ],
    };
  },
  computed: {
    playlistSelected() {
      return this.playlists[this.indexOfSelectedPlaylist];
    },
    songSrcSelected() {
      return this.randomSongSrc;
    },
    songNameSelected() {
      return this.randomSongName;
    },
    audio() {
      return this.$refs["audio"];
    },
  },
  methods: {
    goNextChapter() {
      this.$emit("changeChapter", 5);
    },
    updatePlaylist(index) {
      this.indexOfSelectedPlaylist = index;
      this.isActive = true;
      this.selectRandomSong();
    },
    selectRandomSong() {
      let randomIndex = Math.floor(
        Math.random() * this.playlistSelected.playlistContent.length
      );
      this.randomSongSrc = this.playlistSelected.playlistContent[
        randomIndex
      ].src_audio;
      this.randomSongName = this.playlistSelected.playlistContent[
        randomIndex
      ].name_audio;
    },
  },
  beforeMount() {
    const setInfos = (index, nameSong, srcSong) => {
      let infos = {
        name_audio: nameSong,
        src_audio: srcSong,
      };
      this.playlists[index].playlistContent.push(infos);
    };

    page4.forEach((song) => {
      switch (song.name_playlist) {
        case "music":
          setInfos(0, song.name_audio, song.src_audio);
          break;
        case "greetings":
          setInfos(1, song.name_audio, song.src_audio);
          break;
        case "noises":
          setInfos(2, song.name_audio, song.src_audio);
          break;
        default:
          console.log("Not found playlist's category");
      }
    });
  },
  created() {
    window.scrollTo({
      top: 0,
    });
  },
};
</script>

<style lang="scss" scoped>
@keyframes float {
  from {
    transform: translateY(0vh);
  }
  50% {
    transform: translateY(-0.8vh);
  }
  to {
    transform: translateY(0);
  }
}
.stars {
  z-index: -1;
}
.audio {
  width: 100vw;
  height: 100vh;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  position: relative;
  z-index: 10;
  p {
    padding: 0 6vw;
  }

  &__title {
    margin-bottom: 4vh;
  }

  &__infos {
    font-size: 16px;
  }

  &__playlistContainer {
    min-height: 110px;
    margin-top: 4vh;
    display: flex;
    justify-content: space-around;
  }

  &__instruction {
    min-height: 45px;
    margin-top: 3vh;
    font-size: 14px;

    &--animate {
      animation: float 1.5s linear infinite reverse;
    }
  }

  &__playerContainer {
    min-height: 60px;
    margin: 3vh 6vw 0 6vw;
    display: flex;
    justify-content: center;
    overflow: hidden;
  }

  &__nextChapter {
    display: flex;
    justify-content: center;
    z-index: 1;
  }
}
</style>
