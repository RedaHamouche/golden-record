<template>
  <div class="audio">
    <div class="stars" :class="songIsPlaying ? 'red' : ''"></div>
    <div class="twinkling"></div>
    <svg style="position: absolute; width: 0; height: 0; overflow: hidden">
      <defs>
        <symbol id="Noises" viewBox="0 0 104 104" fill="none">
          <circle cx="52" cy="52" r="52" fill="#F8F8F8" />
          <path
            d="M52.0003 23.8687C46.4365 23.8687 40.9976 25.5185 36.3715 28.6096C31.7453 31.7007 28.1397 36.0942 26.0105 41.2345C23.8813 46.3748 23.3242 52.031 24.4097 57.4879C25.4951 62.9448 28.1744 67.9573 32.1086 71.8915C36.0428 75.8257 41.0553 78.505 46.5122 79.5904C51.9691 80.6759 57.6253 80.1188 62.7656 77.9896C67.9059 75.8604 72.2994 72.2548 75.3905 67.6286C78.4816 63.0025 80.1314 57.5636 80.1314 51.9998C80.1314 44.539 77.1676 37.3837 71.892 32.1081C66.6164 26.8325 59.4611 23.8687 52.0003 23.8687ZM52.0003 25.6268C56.8109 25.6288 61.5293 26.9466 65.6449 29.4374C69.7604 31.9283 73.1162 35.4974 75.3491 39.7584C74.6063 39.7188 73.8591 39.6924 73.0987 39.6924C65.3274 39.6924 58.4485 41.7407 54.198 44.8879C57.0366 45.8246 59.6742 47.2857 61.9737 49.1955C62.0728 49.2671 62.1558 49.3586 62.2176 49.4641C62.2793 49.5696 62.3184 49.6869 62.3322 49.8084C62.3461 49.9299 62.3345 50.0529 62.2981 50.1696C62.2617 50.2864 62.2014 50.3942 62.121 50.4863C62.0405 50.5784 61.9418 50.6527 61.831 50.7045C61.7202 50.7562 61.5999 50.7843 61.4776 50.7869C61.3554 50.7895 61.234 50.7666 61.1211 50.7197C61.0082 50.6727 60.9063 50.6027 60.8221 50.5141C58.4001 48.4043 54.998 46.7736 51.0465 45.7494H51.0069C50.5967 45.6439 50.1806 45.5443 49.7586 45.4505L49.6531 45.4066C49.2487 45.3187 48.8399 45.2381 48.4268 45.1648L48.2861 45.1384C47.0114 44.9099 45.6928 44.7472 44.3302 44.6417C43.9609 44.6154 43.5917 44.5934 43.2181 44.5714L42.6819 44.545C42.1368 44.5275 41.5786 44.5275 41.0116 44.5275C35.2974 44.5275 30.0756 45.6351 26.0229 47.4724C27.0961 41.3593 30.2878 35.8193 35.0381 31.8246C39.7883 27.8299 45.7937 25.6356 52.0003 25.6268ZM39.1083 74.9926C44.4796 69.5818 36.6688 62.2149 36.6688 62.2149C44.8269 65.7313 44.8269 72.1224 44.8269 72.1224C47.7411 67.4587 41.9126 54.6371 41.9126 54.6371C47.7411 61.6303 48.3257 72.7026 48.3257 72.7026C52.4047 68.039 48.3257 59.2963 48.3257 59.2963C55.8815 63.9467 52.6464 74.5663 52.6289 74.6234C55.0332 71.2345 57.2046 65.2522 55.3233 55.2173C55.3233 55.2173 59.4023 59.8809 56.4881 73.2828C56.4881 73.2828 65.2307 65.7049 64.0659 56.9623C64.0659 56.9623 65.4681 64.4566 63.2396 70.6279C64.5846 68.0829 67.4548 64.1401 72.224 64.5357C72.224 64.5357 64.2417 67.9598 65.1912 74.808C61.2344 77.1057 56.7463 78.3306 52.1709 78.3614C47.5955 78.3922 43.0913 77.228 39.1039 74.9838L39.1083 74.9926Z"
            fill="#14131C"
          />
          <path
            d="M42.6689 38.7126C42.9112 39.1502 43.2459 39.5299 43.6497 39.8252C44.0535 40.1204 44.5167 40.3242 45.0073 40.4224L44.7699 42.9323C45.8072 43.0202 46.8329 43.1447 47.8467 43.3059L47.5786 40.5719C47.9574 40.6629 48.3518 40.6675 48.7326 40.5855C49.1134 40.5034 49.4709 40.3368 49.7786 40.0979C50.0863 39.859 50.3363 39.554 50.5102 39.2054C50.684 38.8568 50.7772 38.4735 50.7829 38.084C51.3165 37.8084 51.7696 37.3994 52.098 36.8966C52.4265 36.3939 52.6191 35.8146 52.6572 35.2153C52.6953 34.616 52.5775 34.017 52.3152 33.4768C52.053 32.9365 51.6553 32.4734 51.1609 32.1325C51.0302 31.3453 50.6781 30.6115 50.1456 30.0171C49.6132 29.4226 48.9225 28.9921 48.1543 28.7759C47.3861 28.5596 46.5722 28.5666 45.8079 28.7959C45.0435 29.0253 44.3603 29.4676 43.8381 30.071C43.4837 30.0899 43.1369 30.1808 42.8189 30.3382C42.5008 30.4955 42.2182 30.7161 41.9882 30.9864C41.7583 31.2566 41.5858 31.5709 41.4814 31.9101C41.377 32.2492 41.3428 32.6061 41.381 32.9589C40.9636 33.3736 40.6582 33.8874 40.4935 34.4522C40.3288 35.0171 40.3101 35.6145 40.4393 36.1885C40.5684 36.7626 40.8411 37.2944 41.2318 37.7343C41.6225 38.1743 42.1185 38.5078 42.6733 38.7038L42.6689 38.7126Z"
            fill="#14131C"
          />
          <path
            d="M63.2346 70.6372C62.8764 71.3037 62.5679 71.9956 62.3115 72.7075C62.6714 72.0419 62.98 71.3498 63.2346 70.6372V70.6372Z"
            fill="#14131C"
          />
        </symbol>
        <symbol id="NoisesReverse" viewBox="0 0 104 104" fill="none">
          <circle cx="52" cy="52" r="52" fill="#000000" />
          <path
            d="M52.0003 23.8687C46.4365 23.8687 40.9976 25.5185 36.3715 28.6096C31.7453 31.7007 28.1397 36.0942 26.0105 41.2345C23.8813 46.3748 23.3242 52.031 24.4097 57.4879C25.4951 62.9448 28.1744 67.9573 32.1086 71.8915C36.0428 75.8257 41.0553 78.505 46.5122 79.5904C51.9691 80.6759 57.6253 80.1188 62.7656 77.9896C67.9059 75.8604 72.2994 72.2548 75.3905 67.6286C78.4816 63.0025 80.1314 57.5636 80.1314 51.9998C80.1314 44.539 77.1676 37.3837 71.892 32.1081C66.6164 26.8325 59.4611 23.8687 52.0003 23.8687ZM52.0003 25.6268C56.8109 25.6288 61.5293 26.9466 65.6449 29.4374C69.7604 31.9283 73.1162 35.4974 75.3491 39.7584C74.6063 39.7188 73.8591 39.6924 73.0987 39.6924C65.3274 39.6924 58.4485 41.7407 54.198 44.8879C57.0366 45.8246 59.6742 47.2857 61.9737 49.1955C62.0728 49.2671 62.1558 49.3586 62.2176 49.4641C62.2793 49.5696 62.3184 49.6869 62.3322 49.8084C62.3461 49.9299 62.3345 50.0529 62.2981 50.1696C62.2617 50.2864 62.2014 50.3942 62.121 50.4863C62.0405 50.5784 61.9418 50.6527 61.831 50.7045C61.7202 50.7562 61.5999 50.7843 61.4776 50.7869C61.3554 50.7895 61.234 50.7666 61.1211 50.7197C61.0082 50.6727 60.9063 50.6027 60.8221 50.5141C58.4001 48.4043 54.998 46.7736 51.0465 45.7494H51.0069C50.5967 45.6439 50.1806 45.5443 49.7586 45.4505L49.6531 45.4066C49.2487 45.3187 48.8399 45.2381 48.4268 45.1648L48.2861 45.1384C47.0114 44.9099 45.6928 44.7472 44.3302 44.6417C43.9609 44.6154 43.5917 44.5934 43.2181 44.5714L42.6819 44.545C42.1368 44.5275 41.5786 44.5275 41.0116 44.5275C35.2974 44.5275 30.0756 45.6351 26.0229 47.4724C27.0961 41.3593 30.2878 35.8193 35.0381 31.8246C39.7883 27.8299 45.7937 25.6356 52.0003 25.6268ZM39.1083 74.9926C44.4796 69.5818 36.6688 62.2149 36.6688 62.2149C44.8269 65.7313 44.8269 72.1224 44.8269 72.1224C47.7411 67.4587 41.9126 54.6371 41.9126 54.6371C47.7411 61.6303 48.3257 72.7026 48.3257 72.7026C52.4047 68.039 48.3257 59.2963 48.3257 59.2963C55.8815 63.9467 52.6464 74.5663 52.6289 74.6234C55.0332 71.2345 57.2046 65.2522 55.3233 55.2173C55.3233 55.2173 59.4023 59.8809 56.4881 73.2828C56.4881 73.2828 65.2307 65.7049 64.0659 56.9623C64.0659 56.9623 65.4681 64.4566 63.2396 70.6279C64.5846 68.0829 67.4548 64.1401 72.224 64.5357C72.224 64.5357 64.2417 67.9598 65.1912 74.808C61.2344 77.1057 56.7463 78.3306 52.1709 78.3614C47.5955 78.3922 43.0913 77.228 39.1039 74.9838L39.1083 74.9926Z"
            fill="#F8F8F8"
          />
          <path
            d="M42.6689 38.7126C42.9112 39.1502 43.2459 39.5299 43.6497 39.8252C44.0535 40.1204 44.5167 40.3242 45.0073 40.4224L44.7699 42.9323C45.8072 43.0202 46.8329 43.1447 47.8467 43.3059L47.5786 40.5719C47.9574 40.6629 48.3518 40.6675 48.7326 40.5855C49.1134 40.5034 49.4709 40.3368 49.7786 40.0979C50.0863 39.859 50.3363 39.554 50.5102 39.2054C50.684 38.8568 50.7772 38.4735 50.7829 38.084C51.3165 37.8084 51.7696 37.3994 52.098 36.8966C52.4265 36.3939 52.6191 35.8146 52.6572 35.2153C52.6953 34.616 52.5775 34.017 52.3152 33.4768C52.053 32.9365 51.6553 32.4734 51.1609 32.1325C51.0302 31.3453 50.6781 30.6115 50.1456 30.0171C49.6132 29.4226 48.9225 28.9921 48.1543 28.7759C47.3861 28.5596 46.5722 28.5666 45.8079 28.7959C45.0435 29.0253 44.3603 29.4676 43.8381 30.071C43.4837 30.0899 43.1369 30.1808 42.8189 30.3382C42.5008 30.4955 42.2182 30.7161 41.9882 30.9864C41.7583 31.2566 41.5858 31.5709 41.4814 31.9101C41.377 32.2492 41.3428 32.6061 41.381 32.9589C40.9636 33.3736 40.6582 33.8874 40.4935 34.4522C40.3288 35.0171 40.3101 35.6145 40.4393 36.1885C40.5684 36.7626 40.8411 37.2944 41.2318 37.7343C41.6225 38.1743 42.1185 38.5078 42.6733 38.7038L42.6689 38.7126Z"
            fill="#F8F8F8"
          />
          <path
            d="M63.2346 70.6372C62.8764 71.3037 62.5679 71.9956 62.3115 72.7075C62.6714 72.0419 62.98 71.3498 63.2346 70.6372V70.6372Z"
            fill="#F8F8F8"
          />
        </symbol>
        <symbol id="Greetings" viewBox="0 0 104 104" fill="none">
          <circle cx="52" cy="52" r="52" fill="#F8F8F8" />
          <path
            d="M33.268 64.5324C34.4064 65.4997 35.6719 66.2884 37.0249 66.8741C36.18 69.1806 35.822 74.0348 36.4569 75.8387C36.6801 75.9179 36.9136 75.9603 37.1491 75.9644V75.9644C37.3514 75.9989 37.5577 75.9989 37.7601 75.9644C38.6385 74.4217 39.135 70.0851 38.8485 67.5424C39.915 67.8714 41.0033 68.1166 42.1042 68.2761C43.0109 68.4136 43.9241 68.4991 44.8396 68.5324C45.317 68.5324 45.7944 68.5324 46.2717 68.5324L46.9974 68.4972L47.3649 68.467L47.8423 68.4017C48.7975 68.2064 49.672 67.7052 50.3462 66.9668C51.0204 66.2283 51.4614 65.2886 51.6088 64.2762C51.6613 63.9324 51.6773 63.5835 51.6566 63.236C51.6488 63.0675 51.6312 62.8997 51.604 62.7335L51.5563 62.4772C51.5561 62.3239 51.5688 62.1709 51.5945 62.0199C51.6259 61.8118 51.6673 61.6055 51.7186 61.4019C51.7717 61.1907 51.8354 60.9827 51.9096 60.7788L52.0337 60.417L52.0623 60.3265L52.1244 60.1104C52.1604 59.9606 52.1828 59.8075 52.1912 59.6531C52.206 59.3432 52.1626 59.0332 52.0635 58.7409C51.9643 58.4486 51.8115 58.1797 51.6136 57.9497C51.4094 57.7125 51.1607 57.5226 50.8832 57.3919C50.815 57.3588 50.7448 57.3303 50.6732 57.3065L50.5299 57.2612L50.3772 57.211C49.9792 57.083 49.5939 56.9147 49.2267 56.7085C48.5607 56.3764 48.0039 55.8428 47.6275 55.1759C47.5435 55.0152 47.4732 54.8471 47.4174 54.6734V54.593H47.4461C47.7086 54.6281 47.976 54.6432 48.2385 54.6633C48.7636 54.6935 49.2888 54.7035 49.8091 54.6884C50.3294 54.6734 50.845 54.6332 51.3606 54.5729C51.8886 54.5116 52.4129 54.4193 52.9312 54.2965C53.1967 54.2285 53.4339 54.0709 53.6063 53.8477C53.7787 53.6244 53.8769 53.3479 53.8859 53.0603L53.9957 49.5026C54.7285 49.2822 55.4242 48.9432 56.058 48.4976C56.2914 48.3302 56.5131 48.1455 56.7215 47.9448C56.8466 47.8269 56.9631 47.6993 57.07 47.5629C57.1837 47.419 57.2844 47.2642 57.3708 47.1006C57.6251 46.6267 57.7624 46.093 57.7699 45.5487C57.7774 45.0043 57.6549 44.4667 57.4137 43.9851C57.2481 43.6745 57.0316 43.3972 56.774 43.1661C56.5766 42.9818 56.3659 42.8138 56.1439 42.6635C55.9482 42.5379 55.8241 42.4324 55.6665 42.3218C55.0868 41.9076 54.5632 41.4123 54.1103 40.8495C53.297 39.8386 52.7374 38.6292 52.4824 37.332C52.367 36.7655 52.3078 36.1878 52.3058 35.6084C52.3058 34.9954 52.2724 34.4125 52.2151 33.8748C52.1912 33.6286 51.8666 33.4678 51.5086 33.513C51.1505 33.5582 50.9453 33.7291 50.9405 33.9301C50.9405 34.4326 50.888 34.9652 50.8307 35.5431C50.7569 36.231 50.7569 36.9255 50.8307 37.6134C51.0137 39.2535 51.6049 40.8136 52.5445 42.1359C53.0674 42.885 53.6877 43.5532 54.3872 44.1208C54.559 44.2615 54.7595 44.4273 54.9123 44.5379C55.0406 44.6318 55.1619 44.7359 55.2751 44.8494C55.3375 44.9084 55.3879 44.9803 55.4231 45.0605C55.4586 45.1502 55.4811 45.2451 55.4899 45.3419C55.5089 45.5395 55.4634 45.7379 55.361 45.9047C55.3378 45.9445 55.3106 45.9816 55.2798 46.0152C55.2414 46.0587 55.1999 46.099 55.1557 46.1358C55.0245 46.2514 54.8857 46.3572 54.7404 46.4524C54.0781 46.857 53.3465 47.1199 52.5874 47.2263C52.3201 47.2725 52.0757 47.4132 51.8944 47.625C51.7131 47.8369 51.6056 48.1074 51.5897 48.3921V48.4272L51.4083 51.8443L51.0455 51.8995C50.6063 51.9448 50.1576 51.9699 49.7136 51.9799C49.2697 51.99 48.8162 51.9799 48.3722 51.9397C48.1478 51.9397 47.9235 51.9046 47.7039 51.8694L47.322 51.8242C46.9846 51.7883 46.6438 51.8286 46.3224 51.9423C46.0009 52.0559 45.7062 52.2404 45.4578 52.4833C45.2093 52.7263 45.0129 53.0222 44.8817 53.3513C44.7504 53.6804 44.6872 54.0351 44.6964 54.3919C44.6981 54.5319 44.7108 54.6714 44.7346 54.809C44.7346 54.9296 44.7728 54.9849 44.7919 55.0754C44.811 55.1658 44.8778 55.402 44.9255 55.5779C45.0306 55.8957 45.1615 56.2034 45.317 56.4974C45.9426 57.6438 46.8805 58.5663 48.0094 59.1456C48.4833 59.4064 48.9786 59.6217 49.4893 59.7888L49.4606 59.8742C49.2651 60.4405 49.1259 61.0265 49.0453 61.623C48.993 61.9786 48.9785 62.3393 49.0023 62.6983V62.7837C48.9737 62.638 49.0405 63.0099 49.0358 62.9697V63.03L49.0596 63.1506C49.0749 63.2301 49.0845 63.3107 49.0883 63.3918C49.1078 63.5586 49.1078 63.7274 49.0883 63.8943C49.0318 64.3758 48.8355 64.8273 48.5262 65.187C48.217 65.5467 47.8097 65.7972 47.3602 65.9043L47.1358 65.9445L46.8159 65.9797L46.1667 66.0299C45.7371 66.0601 45.3027 66.0701 44.8778 66.0751C44.0394 66.0795 43.2013 66.0392 42.3668 65.9545C40.8262 65.8162 39.306 65.4908 37.8365 64.9847C35.1202 64.0149 33.0054 62.4169 31.9647 60.8843C31.8502 60.7134 31.4874 60.7235 31.1723 60.9144C30.8572 61.1054 30.7379 61.3868 30.8429 61.5978C31.4573 62.7365 32.2818 63.7342 33.268 64.5324ZM49.8568 59.8893H49.8855H49.8568Z"
            fill="#14131C"
          />
          <path
            d="M59.3859 54.8394C59.1619 54.9104 58.9483 55.0135 58.751 55.1459C58.5669 55.2408 58.3925 55.3553 58.2306 55.4876C58.1734 55.8795 58.1877 56.3469 58.159 56.8443C58.1233 57.8928 57.8742 58.9209 57.4286 59.8593C57.2281 60.3116 56.999 60.7186 56.8701 61.0955C56.963 61.3178 57.0765 61.5299 57.2091 61.7287C57.303 61.9133 57.422 62.0826 57.5623 62.2312C58.1815 62.1436 58.7565 61.8454 59.1997 61.3819C59.8237 60.7615 60.2692 59.9688 60.4854 59.0944C60.7015 58.22 60.6794 57.2992 60.4218 56.4373C60.2526 55.7993 59.8886 55.2378 59.3859 54.8394V54.8394Z"
            fill="#14131C"
          />
          <path
            d="M62.6836 63.5175C62.1394 64.5225 61.557 65.3466 61.1895 65.9697C61.2667 66.1982 61.3887 66.407 61.5475 66.5828C61.7528 66.8441 61.9389 67.03 61.9819 67.0099C62.9722 66.5227 63.844 65.8044 64.5311 64.9094C65.4934 63.6949 66.1877 62.2708 66.5641 60.7397C66.9406 59.2087 66.9897 57.6088 66.7079 56.0553C66.52 54.9197 66.089 53.844 65.4477 52.9097C65.2097 52.9147 64.9768 52.9821 64.7698 53.1056C64.5715 53.1708 64.3891 53.2805 64.2351 53.4272C64.2685 54.1559 64.4117 55.1659 64.4213 56.3267C64.4404 57.5809 64.3056 58.8324 64.0203 60.0502C63.7181 61.2616 63.2689 62.427 62.6836 63.5175V63.5175Z"
            fill="#14131C"
          />
          <path
            d="M70.2556 51.4277C70.4933 52.8962 70.6527 54.3775 70.733 55.8648C70.7933 57.8306 70.5941 59.7957 70.141 61.7038C69.6602 63.6064 68.9308 65.4294 67.9737 67.1208C67.2271 68.3867 66.4143 69.608 65.5391 70.779C65.4962 70.8393 65.6585 71.1308 65.8972 71.4172C66.1358 71.7036 66.3125 71.8393 66.3745 71.7991C67.7268 70.9381 68.9097 69.8123 69.8594 68.4826C71.1791 66.6735 72.1381 64.6024 72.6787 62.3936C73.2192 60.1848 73.3304 57.8837 73.0053 55.6286C72.7873 53.98 72.2721 52.3903 71.4872 50.9453C71.4491 50.8749 71.134 50.9453 70.7903 51.0759C70.4466 51.2066 70.2461 51.3573 70.2556 51.4277Z"
            fill="#14131C"
          />
        </symbol>
        <symbol id="GreetingsReverse" viewBox="0 0 104 104" fill="none">
          <circle cx="52" cy="52" r="52" fill="#000000" />
          <path
            d="M33.268 64.5324C34.4064 65.4997 35.6719 66.2884 37.0249 66.8741C36.18 69.1806 35.822 74.0348 36.4569 75.8387C36.6801 75.9179 36.9136 75.9603 37.1491 75.9644V75.9644C37.3514 75.9989 37.5577 75.9989 37.7601 75.9644C38.6385 74.4217 39.135 70.0851 38.8485 67.5424C39.915 67.8714 41.0033 68.1166 42.1042 68.2761C43.0109 68.4136 43.9241 68.4991 44.8396 68.5324C45.317 68.5324 45.7944 68.5324 46.2717 68.5324L46.9974 68.4972L47.3649 68.467L47.8423 68.4017C48.7975 68.2064 49.672 67.7052 50.3462 66.9668C51.0204 66.2283 51.4614 65.2886 51.6088 64.2762C51.6613 63.9324 51.6773 63.5835 51.6566 63.236C51.6488 63.0675 51.6312 62.8997 51.604 62.7335L51.5563 62.4772C51.5561 62.3239 51.5688 62.1709 51.5945 62.0199C51.6259 61.8118 51.6673 61.6055 51.7186 61.4019C51.7717 61.1907 51.8354 60.9827 51.9096 60.7788L52.0337 60.417L52.0623 60.3265L52.1244 60.1104C52.1604 59.9606 52.1828 59.8075 52.1912 59.6531C52.206 59.3432 52.1626 59.0332 52.0635 58.7409C51.9643 58.4486 51.8115 58.1797 51.6136 57.9497C51.4094 57.7125 51.1607 57.5226 50.8832 57.3919C50.815 57.3588 50.7448 57.3303 50.6732 57.3065L50.5299 57.2612L50.3772 57.211C49.9792 57.083 49.5939 56.9147 49.2267 56.7085C48.5607 56.3764 48.0039 55.8428 47.6275 55.1759C47.5435 55.0152 47.4732 54.8471 47.4174 54.6734V54.593H47.4461C47.7086 54.6281 47.976 54.6432 48.2385 54.6633C48.7636 54.6935 49.2888 54.7035 49.8091 54.6884C50.3294 54.6734 50.845 54.6332 51.3606 54.5729C51.8886 54.5116 52.4129 54.4193 52.9312 54.2965C53.1967 54.2285 53.4339 54.0709 53.6063 53.8477C53.7787 53.6244 53.8769 53.3479 53.8859 53.0603L53.9957 49.5026C54.7285 49.2822 55.4242 48.9432 56.058 48.4976C56.2914 48.3302 56.5131 48.1455 56.7215 47.9448C56.8466 47.8269 56.9631 47.6993 57.07 47.5629C57.1837 47.419 57.2844 47.2642 57.3708 47.1006C57.6251 46.6267 57.7624 46.093 57.7699 45.5487C57.7774 45.0043 57.6549 44.4667 57.4137 43.9851C57.2481 43.6745 57.0316 43.3972 56.774 43.1661C56.5766 42.9818 56.3659 42.8138 56.1439 42.6635C55.9482 42.5379 55.8241 42.4324 55.6665 42.3218C55.0868 41.9076 54.5632 41.4123 54.1103 40.8495C53.297 39.8386 52.7374 38.6292 52.4824 37.332C52.367 36.7655 52.3078 36.1878 52.3058 35.6084C52.3058 34.9954 52.2724 34.4125 52.2151 33.8748C52.1912 33.6286 51.8666 33.4678 51.5086 33.513C51.1505 33.5582 50.9453 33.7291 50.9405 33.9301C50.9405 34.4326 50.888 34.9652 50.8307 35.5431C50.7569 36.231 50.7569 36.9255 50.8307 37.6134C51.0137 39.2535 51.6049 40.8136 52.5445 42.1359C53.0674 42.885 53.6877 43.5532 54.3872 44.1208C54.559 44.2615 54.7595 44.4273 54.9123 44.5379C55.0406 44.6318 55.1619 44.7359 55.2751 44.8494C55.3375 44.9084 55.3879 44.9803 55.4231 45.0605C55.4586 45.1502 55.4811 45.2451 55.4899 45.3419C55.5089 45.5395 55.4634 45.7379 55.361 45.9047C55.3378 45.9445 55.3106 45.9816 55.2798 46.0152C55.2414 46.0587 55.1999 46.099 55.1557 46.1358C55.0245 46.2514 54.8857 46.3572 54.7404 46.4524C54.0781 46.857 53.3465 47.1199 52.5874 47.2263C52.3201 47.2725 52.0757 47.4132 51.8944 47.625C51.7131 47.8369 51.6056 48.1074 51.5897 48.3921V48.4272L51.4083 51.8443L51.0455 51.8995C50.6063 51.9448 50.1576 51.9699 49.7136 51.9799C49.2697 51.99 48.8162 51.9799 48.3722 51.9397C48.1478 51.9397 47.9235 51.9046 47.7039 51.8694L47.322 51.8242C46.9846 51.7883 46.6438 51.8286 46.3224 51.9423C46.0009 52.0559 45.7062 52.2404 45.4578 52.4833C45.2093 52.7263 45.0129 53.0222 44.8817 53.3513C44.7504 53.6804 44.6872 54.0351 44.6964 54.3919C44.6981 54.5319 44.7108 54.6714 44.7346 54.809C44.7346 54.9296 44.7728 54.9849 44.7919 55.0754C44.811 55.1658 44.8778 55.402 44.9255 55.5779C45.0306 55.8957 45.1615 56.2034 45.317 56.4974C45.9426 57.6438 46.8805 58.5663 48.0094 59.1456C48.4833 59.4064 48.9786 59.6217 49.4893 59.7888L49.4606 59.8742C49.2651 60.4405 49.1259 61.0265 49.0453 61.623C48.993 61.9786 48.9785 62.3393 49.0023 62.6983V62.7837C48.9737 62.638 49.0405 63.0099 49.0358 62.9697V63.03L49.0596 63.1506C49.0749 63.2301 49.0845 63.3107 49.0883 63.3918C49.1078 63.5586 49.1078 63.7274 49.0883 63.8943C49.0318 64.3758 48.8355 64.8273 48.5262 65.187C48.217 65.5467 47.8097 65.7972 47.3602 65.9043L47.1358 65.9445L46.8159 65.9797L46.1667 66.0299C45.7371 66.0601 45.3027 66.0701 44.8778 66.0751C44.0394 66.0795 43.2013 66.0392 42.3668 65.9545C40.8262 65.8162 39.306 65.4908 37.8365 64.9847C35.1202 64.0149 33.0054 62.4169 31.9647 60.8843C31.8502 60.7134 31.4874 60.7235 31.1723 60.9144C30.8572 61.1054 30.7379 61.3868 30.8429 61.5978C31.4573 62.7365 32.2818 63.7342 33.268 64.5324ZM49.8568 59.8893H49.8855H49.8568Z"
            fill="#F8F8F8"
          />
          <path
            d="M59.3859 54.8394C59.1619 54.9104 58.9483 55.0135 58.751 55.1459C58.5669 55.2408 58.3925 55.3553 58.2306 55.4876C58.1734 55.8795 58.1877 56.3469 58.159 56.8443C58.1233 57.8928 57.8742 58.9209 57.4286 59.8593C57.2281 60.3116 56.999 60.7186 56.8701 61.0955C56.963 61.3178 57.0765 61.5299 57.2091 61.7287C57.303 61.9133 57.422 62.0826 57.5623 62.2312C58.1815 62.1436 58.7565 61.8454 59.1997 61.3819C59.8237 60.7615 60.2692 59.9688 60.4854 59.0944C60.7015 58.22 60.6794 57.2992 60.4218 56.4373C60.2526 55.7993 59.8886 55.2378 59.3859 54.8394V54.8394Z"
            fill="#F8F8F8"
          />
          <path
            d="M62.6836 63.5175C62.1394 64.5225 61.557 65.3466 61.1895 65.9697C61.2667 66.1982 61.3887 66.407 61.5475 66.5828C61.7528 66.8441 61.9389 67.03 61.9819 67.0099C62.9722 66.5227 63.844 65.8044 64.5311 64.9094C65.4934 63.6949 66.1877 62.2708 66.5641 60.7397C66.9406 59.2087 66.9897 57.6088 66.7079 56.0553C66.52 54.9197 66.089 53.844 65.4477 52.9097C65.2097 52.9147 64.9768 52.9821 64.7698 53.1056C64.5715 53.1708 64.3891 53.2805 64.2351 53.4272C64.2685 54.1559 64.4117 55.1659 64.4213 56.3267C64.4404 57.5809 64.3056 58.8324 64.0203 60.0502C63.7181 61.2616 63.2689 62.427 62.6836 63.5175V63.5175Z"
            fill="#F8F8F8"
          />
          <path
            d="M70.2556 51.4277C70.4933 52.8962 70.6527 54.3775 70.733 55.8648C70.7933 57.8306 70.5941 59.7957 70.141 61.7038C69.6602 63.6064 68.9308 65.4294 67.9737 67.1208C67.2271 68.3867 66.4143 69.608 65.5391 70.779C65.4962 70.8393 65.6585 71.1308 65.8972 71.4172C66.1358 71.7036 66.3125 71.8393 66.3745 71.7991C67.7268 70.9381 68.9097 69.8123 69.8594 68.4826C71.1791 66.6735 72.1381 64.6024 72.6787 62.3936C73.2192 60.1848 73.3304 57.8837 73.0053 55.6286C72.7873 53.98 72.2721 52.3903 71.4872 50.9453C71.4491 50.8749 71.134 50.9453 70.7903 51.0759C70.4466 51.2066 70.2461 51.3573 70.2556 51.4277Z"
            fill="#F8F8F8"
          />
        </symbol>
        <symbol id="Musics" viewBox="0 0 104 104" fill="none">
          <circle cx="52" cy="52" r="52" fill="#F8F8F8" />
          <path
            d="M71.8917 28.5661C71.5289 28.2456 71.0484 28.0916 70.5669 28.1416L39.8784 31.5514C39.0146 31.647 38.361 32.377 38.3611 33.246V63.6295C36.8159 62.7048 35.0471 62.2207 33.2463 62.2297C28.5459 62.2298 24.7217 65.2883 24.7217 69.0494C24.7217 72.8104 28.5459 75.8691 33.2462 75.8691C37.9466 75.8691 41.7708 72.8121 41.7708 69.0494V43.3052L69.0495 40.267V60.2146C67.5038 59.2917 65.735 58.8094 63.9347 58.8199C59.2343 58.8199 55.4102 61.8785 55.4102 65.6396C55.4102 69.4006 59.2344 72.4593 63.9347 72.4593C68.6351 72.4593 72.4593 69.4023 72.4593 65.6396V29.8363C72.4593 29.3514 72.2529 28.8895 71.8917 28.5661Z"
            fill="#14131C"
          />
        </symbol>
        <symbol id="MusicsReverse" viewBox="0 0 104 104" fill="none">
          <circle cx="52" cy="52" r="52" fill="#000000" />
          <path
            d="M71.8917 28.5661C71.5289 28.2456 71.0484 28.0916 70.5669 28.1416L39.8784 31.5514C39.0146 31.647 38.361 32.377 38.3611 33.246V63.6295C36.8159 62.7048 35.0471 62.2207 33.2463 62.2297C28.5459 62.2298 24.7217 65.2883 24.7217 69.0494C24.7217 72.8104 28.5459 75.8691 33.2462 75.8691C37.9466 75.8691 41.7708 72.8121 41.7708 69.0494V43.3052L69.0495 40.267V60.2146C67.5038 59.2917 65.735 58.8094 63.9347 58.8199C59.2343 58.8199 55.4102 61.8785 55.4102 65.6396C55.4102 69.4006 59.2344 72.4593 63.9347 72.4593C68.6351 72.4593 72.4593 69.4023 72.4593 65.6396V29.8363C72.4593 29.3514 72.2529 28.8895 71.8917 28.5661Z"
            fill="#F8F8F8"
          />
        </symbol>
        <symbol id="play" viewBox="0 0 32 32" fill="none">
          <circle
            class="svgCirclePlay"
            cx="16"
            cy="16"
            r="16"
            transform="rotate(180 16 16)"
            fill="#F8F8F8"
          />
          <path
            d="M21.4526 14.9082C22.0492 15.3037 22.0492 16.1797 21.4526 16.5752L13.8109 21.6408C13.1461 22.0814 12.2583 21.6048 12.2583 20.8073L12.2583 10.6761C12.2583 9.87863 13.1461 9.402 13.8109 9.84263L21.4526 14.9082Z"
            fill="#14131C"
          />
        </symbol>
        <symbol id="soundon" viewBox="0 0 16 16" fill="none">
          <path
            d="M11.2432 3.01766C12.3134 3.41802 13.2297 4.1051 13.8746 4.99068C14.5196 5.87626 14.8636 6.91993 14.8627 7.98771C14.8636 9.05543 14.5195 10.099 13.8746 10.9845C13.2297 11.8701 12.3133 12.5571 11.2432 12.9574V14.0754C12.6283 13.6535 13.8339 12.8377 14.688 11.7445C15.5422 10.6513 16.0014 9.33655 16 7.98771C16 5.14808 14.0069 2.73765 11.2432 1.89644V3.01766V3.01766ZM11.2432 5.65728C11.6074 5.94495 11.8997 6.30237 12.0998 6.70482C12.2999 7.10727 12.403 7.54513 12.4022 7.98811C12.4031 8.43103 12.2999 8.86885 12.0998 9.27124C11.8997 9.67363 11.6074 10.031 11.2432 10.3185V11.4561C12.5362 10.7637 13.4054 9.46972 13.4054 7.98811C13.4057 7.28537 13.2061 6.59494 12.8265 5.98619C12.447 5.37743 11.9009 4.87179 11.2432 4.52007V5.65728V5.65728ZM1.2973 11.1913H4.75676L8.64865 15.5974C9.08108 16.1734 10.093 16.1298 10.3784 15.4766V0.531631C10.0277 -0.121176 9.10746 -0.173577 8.64865 0.378829L4.75676 4.80007H1.2973C0.189838 4.80007 0 4.98448 0 5.98569V9.99053C0 10.9673 0.216216 11.1913 1.2973 11.1913Z"
            fill="#ae8908"
          />
        </symbol>
        <symbol id="soundoff" viewBox="0 0 16 16" fill="none">
          <path
            d="M10.3406 3.7145C11.3248 4.10623 12.1676 4.77848 12.7608 5.64495C13.3539 6.51142 13.6704 7.53257 13.6695 8.57731C13.6704 9.62199 13.3539 10.6431 12.7607 11.5095C12.1676 12.3759 11.3248 13.0481 10.3406 13.4397V14.5336C11.6145 14.1208 12.7233 13.3227 13.5089 12.2531C14.2945 11.1835 14.7168 9.89704 14.7155 8.57731C14.7155 5.79895 12.8824 3.44054 10.3406 2.61749V3.7145V3.7145ZM10.3406 6.29717C10.6756 6.57863 10.9443 6.92834 11.1284 7.32211C11.3124 7.71587 11.4073 8.14428 11.4065 8.5777C11.4074 9.01107 11.3125 9.43944 11.1285 9.83315C10.9444 10.2269 10.6756 10.5765 10.3406 10.8578V11.9709C11.5298 11.2934 12.3292 10.0273 12.3292 8.5777C12.3295 7.89013 12.1459 7.2146 11.7968 6.61898C11.4477 6.02336 10.9455 5.52863 10.3406 5.1845V6.29717V6.29717ZM1.19315 11.7118H4.37488L7.95433 16.0228C8.35205 16.5864 9.2827 16.5437 9.5452 15.9046V1.28212C9.22265 0.643402 8.37631 0.592132 7.95433 1.13262L4.37488 5.45846H1.19315C0.174598 5.45846 0 5.63888 0 6.61849V10.5369C0 11.4926 0.198858 11.7118 1.19315 11.7118Z"
            fill="#ae8908"
          />
          <line
            y1="-0.5"
            x2="21.3658"
            y2="-0.5"
            transform="matrix(0.694287 -0.719698 0.694288 0.719698 1.16602 16.762)"
            stroke="#ae8908"
          />
        </symbol>
        <symbol id="pause" viewBox="0 0 32 32" fill="none">
          <circle cx="16" cy="16" r="16" fill="#F8F8F8" />
          <path
            d="M14.2906 21.05C14.2906 22.1269 13.4175 23 12.3406 23C11.2637 23 10.3906 22.1269 10.3906 21.05V10.95C10.3906 9.87311 11.2637 9 12.3406 9C13.4175 9 14.2906 9.87311 14.2906 10.95V21.05Z"
            fill="#14131C"
          />
          <path
            d="M21.609 21.05C21.609 22.1269 20.7359 23 19.659 23C18.5821 23 17.709 22.1269 17.709 21.05V10.95C17.7093 9.87311 18.5824 9 19.659 9C20.7359 9 21.609 9.87311 21.609 10.95V21.05Z"
            fill="#14131C"
          />
        </symbol>
        <symbol id="next" viewBox="0 0 32 32" fill="none">
          <circle cx="16" cy="16" r="16" fill="#F8F8F8" />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M10.1003 19.9283L14.5 16.626V19.1285C14.5 19.9527 15.4411 20.423 16.1003 19.9283L20.9344 16.3C20.9572 16.2829 20.9791 16.265 21 16.2464V20.0002H23V11.0002H21V14.754C20.9791 14.7354 20.9572 14.7176 20.9344 14.7004L16.1003 11.0721C15.4411 10.5774 14.5 11.0477 14.5 11.8719V14.3744L10.1003 11.0721C9.44109 10.5774 8.5 11.0477 8.5 11.8719V19.1285C8.5 19.9527 9.44109 20.423 10.1003 19.9283Z"
            fill="#14131C"
          />
        </symbol>
      </defs>
    </svg>

    <Header :text="title" />
    <div
      class="audio__imgContainer"
      :class="discIsActive ? 'audio__imgContainer--isActivate' : ''"
    >
      <img
        ref="Disc"
        class="audio__imgDisc"
        :class="songIsPlaying ? 'audio__imgDisc--isAnimate' : ''"
        src="../../assets/img/song_of_earth.png"
        alt="disc song of earth"
        @click="songIsPlaying ? playScratch() : null"
      />
    </div>
    <div class="audio__categoryContainer">
      <Playlist
        v-for="(playlist, index) in playlists"
        :key="playlist.playlistId"
        :playlistName="playlist.playlistName"
        :playlistInfo1="playlist.playlistInfo1"
        :playlistInfo2="playlist.playlistInfo2"
        :class="indexOfSelectedPlaylist == index ? 'playlist--isFocus' : ''"
        @select-playlist="updatePlaylist(index)"
      />
    </div>
    <AudioPlayer
      @play-event="handlePlay"
      @pause-event="handlePause"
      :class="songIsActive ? 'player--isFocus' : ''"
      :source="songSrcSelected"
      :name="songNameSelected"
      @next-music="selectRandomSong"
    />
  </div>
</template>

<script>
import Header from "@/components/Header.vue";
import AudioPlayer from "@/components/AudioPlayer__Desktop.vue";
import Playlist from "@/components/Playlist__Desktop.vue";
import ah from "@/assets/sounds/ah.mp3";

import { titles } from "../../constants";
import { page4 } from "@/content";

export default {
  components: {
    Header,
    AudioPlayer,
    Playlist,
  },
  data() {
    return {
      title: titles.page4,
      songIsActive: false,
      discIsActive: false,
      indexOfSelectedPlaylist: null,
      randomSongName: "",
      randomSongSrc: "",
      songIsPlaying: false,
      playlists: [
        {
          playlistId: 1,
          playlistName: "Musics",
          playlistInfo1:
            "Sagan's team decided to put 27 songs on the golden record.",
          playlistInfo2:
            "The style music who’s the most represented in the disc is the classic style.",
          playlistContent: [],
        },
        {
          playlistId: 2,
          playlistName: "Greetings",
          playlistInfo1:
            "People from the Earth took the opportunity to let a message in their own language.",
          playlistInfo2: "In this disc you can found 55 différents languages.",
          playlistContent: [],
        },
        {
          playlistId: 3,
          playlistName: "Noises",
          playlistInfo1:
            "After human words, Sagan's team wanted to include sounds from the planet.",
          playlistInfo2:
            "you can hear sounds of animals, nature and city life.",
          playlistContent: [],
        },
      ],
    };
  },
  computed: {
    playlistSelected() {
      return this.playlists[this.indexOfSelectedPlaylist];
    },
    songSrcSelected() {
      return this.randomSongSrc;
    },
    songNameSelected() {
      return this.randomSongName;
    },
    audio() {
      return this.$refs["audio"];
    },
  },
  methods: {
    playScratch() {
      let audio = new Audio(ah);
      audio.volume = 1;
      audio.play();
    },
    handlePlay() {
      this.songIsPlaying = true;
    },
    handlePause() {
      this.songIsPlaying = false;
    },
    updatePlaylist(index) {
      this.indexOfSelectedPlaylist = index;
      this.songIsActive = true;
      this.songIsPlaying = true;
      this.discIsActive = true;
      this.selectRandomSong();
    },
    selectRandomSong() {
      // Run with emit "next-song"
      if (!this.songIsPlaying) {
        this.songIsPlaying = true;
      }
      let randomIndex = Math.floor(
        Math.random() * this.playlistSelected.playlistContent.length
      );
      this.randomSongSrc = this.playlistSelected.playlistContent[
        randomIndex
      ].src_audio;
      this.randomSongName = this.playlistSelected.playlistContent[
        randomIndex
      ].name_audio;
    },
  },
  beforeMount() {
    const setInfos = (index, nameSong, srcSong) => {
      let infos = {
        name_audio: nameSong,
        src_audio: srcSong,
      };
      this.playlists[index].playlistContent.push(infos);
    };

    page4.forEach((song) => {
      switch (song.name_playlist) {
        case "music":
          setInfos(0, song.name_audio, song.src_audio);
          break;
        case "greetings":
          setInfos(1, song.name_audio, song.src_audio);
          break;
        case "noises":
          setInfos(2, song.name_audio, song.src_audio);
          break;
        default:
          console.log("Not found playlist's category");
      }
    });
  },
};
</script>

<style lang="scss" scoped>
@keyframes rotating {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.audio {
  height: 100vh;
  width: 100vw;
  position: relative;
  overflow: hidden;
  z-index: 10;

  .stars {
    z-index: -1;
  }
  .twinkling {
    z-index: -1;
  }
}

.audio__imgContainer {
  position: absolute;
  top: -70vh;
  left: 50vw;
  height: 90vh;
  border-radius: 50%;
  transition: top 1s linear;
}

.audio__imgDisc {
  height: 90vh;
  border-radius: 50%;
}

.audio__imgContainer--isActivate {
  top: -60vh;
}

.audio__imgDisc--isAnimate {
  animation: rotating 3.6s linear infinite;
}

.audio__categoryContainer {
  height: 355px;
  margin: 10vh 0;
  margin-left: $nav-width;
  display: flex;
  justify-content: space-around;

  @media (max-width: 1160px) {
    height: 415px;
  }

  @include media_tablet {
    height: 355px;
  }

  @include media_mobile {
    height: 375px;
  }
}
</style>
